"use strict";(self["webpackChunkunitrade"]=self["webpackChunkunitrade"]||[]).push([[794],{8840:function(s,e,t){t.d(e,{Z:function(){return x}});var o=t(3396),a=t(7139),i=t(9242);const n=["src"],r={class:"post-data"},l={class:"text"},c={class:"post-name"},d={style:{"font-size":"10px"}},p={style:{"font-size":"14px"}},k={class:"post-bottom"},g={class:"tag"},w={key:0,class:"buttons"};function u(s,e,t,u,h,_){const m=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",{class:"work",onClick:e[2]||(e[2]=s=>_.openWork())},[(0,o._)("img",{src:t.work.imgURL,alt:"Фото поста"},null,8,n),(0,o._)("div",r,[(0,o._)("div",l,[(0,o._)("p",c,(0,a.zw)(t.work.title),1)]),(0,o._)("p",d,(0,a.zw)(t.work.created_at),1),(0,o._)("div",p,(0,a.zw)(t.work.salary)+"₴",1),(0,o._)("div",k,[(0,o._)("div",g,[(0,o._)("span",null,(0,a.zw)(t.work.tag),1)]),"admin"==s.user.role?((0,o.wg)(),(0,o.iD)("div",w,[(0,o.Wm)(m,{icon:["fas","pen"],onClick:e[0]||(e[0]=(0,i.iM)((s=>_.updateWork()),["stop"]))}),(0,o.Wm)(m,{icon:["fas","trash"],onClick:e[1]||(e[1]=(0,i.iM)((s=>_.deleteWork()),["stop"]))})])):(0,o.kq)("",!0)])])])}t(560);var h=t(65),_=t(5605),m={name:"WorkComponent",props:{work:Object},computed:{...(0,h.Se)(["user"])},methods:{updateWork(){this.$router.push({name:"workEdit",params:{id:this.work.id}})},openWork(){this.$router.push({name:"work",params:{id:this.work.id}})},deleteWork(){confirm("Видалити оголошення ?")&&(0,_.wz)("works",this.work.id).then((()=>{location.reload()})).catch((s=>{console.log(s)}))}}},f=t(89);const v=(0,f.Z)(m,[["render",u],["__scopeId","data-v-0c0fcc0e"]]);var x=v},5794:function(s,e,t){t.r(e),t.d(e,{default:function(){return u}});var o=t(3396),a=t(7139);const i={class:"container"},n={key:0,class:"works_list"},r={class:"page-selector"},l={key:1,class:"works_list"};function c(s,e,t,c,d,p){const k=(0,o.up)("work-component"),g=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",i,[d.worksList.length>0?((0,o.wg)(),(0,o.iD)("div",n,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.worksList,(s=>((0,o.wg)(),(0,o.j4)(k,{work:s,key:s},null,8,["work"])))),128)),(0,o._)("div",r,[(0,o.Wm)(g,{icon:"arrow-left",class:(0,a.C_)([{"hidden-page":1==d.page_index},"page-toggle"]),onClick:e[0]||(e[0]=s=>p.subPage())},null,8,["class"]),(0,o._)("span",null,(0,a.zw)(d.page_index),1),(0,o.Wm)(g,{icon:"arrow-right",class:(0,a.C_)([{"hidden-page":d.page_index==d.lastPage},"page-toggle"]),onClick:e[1]||(e[1]=s=>p.addPage())},null,8,["class"])])])):((0,o.wg)(),(0,o.iD)("div",l,(0,a.zw)(s.$t("global.loading"))+"...",1))])}var d=t(8840),p=t(5605),k={name:"Works_list",components:{WorkComponent:d.Z},data(){return{worksList:[],page_index:1,lastPage:1}},watch:{page_index(s){this.loadList(s)}},mounted(){this.loadList(this.page_index)},methods:{subPage(){this.page_index>1&&(this.page_index-=1)},addPage(){this.page_index!=this.lastPage&&(this.page_index+=1)},loadList(s){(0,p.MZ)("works",s).then((s=>{this.worksList=s.data,this.lastPage=s.last_page})).catch((s=>{console.log(s),this.postsList=null}))}}},g=t(89);const w=(0,g.Z)(k,[["render",c],["__scopeId","data-v-53645f06"]]);var u=w}}]);
//# sourceMappingURL=794.4f6fa567.js.map