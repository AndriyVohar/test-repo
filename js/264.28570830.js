"use strict";(self["webpackChunkunitrade"]=self["webpackChunkunitrade"]||[]).push([[264],{5264:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(560);var r=a(3396),s=a(9242),i=a(7139);const o={class:"form-container"},l={class:"form-title"},n={class:"input-group"},u=["placeholder"],c=["placeholder"],d={class:"button-group"},m={type:"submit",class:"save-button"};function p(e,t,a,p,f,h){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",o,[(0,r._)("form",{onSubmit:t[4]||(t[4]=(0,s.iM)((e=>h.createPost()),["prevent"])),class:"form-content"},[(0,r._)("h2",l,(0,i.zw)(e.$t("post.create")),1),(0,r._)("div",n,[(0,r._)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>h.checkFileSize&&h.checkFileSize(...e)),id:"photo",accept:"image/*",class:"input-field",required:""},null,32),(0,r.wy)((0,r._)("input",{type:"text",id:"title","onUpdate:modelValue":t[1]||(t[1]=e=>f.formData.title=e),placeholder:e.$t("form.name"),class:"input-field",required:""},null,8,u),[[s.nr,f.formData.title]]),(0,r.wy)((0,r._)("input",{type:"text",id:"tag","onUpdate:modelValue":t[2]||(t[2]=e=>f.formData.tag=e),placeholder:e.$t("form.tag"),class:"input-field",required:""},null,8,c),[[s.nr,f.formData.tag]])]),(0,r._)("div",d,[(0,r._)("button",m,(0,i.zw)(e.$t("form.submit")),1),(0,r._)("button",{type:"button",class:"cancel-button",onClick:t[3]||(t[3]=e=>this.$router.push("/me"))},(0,i.zw)(e.$t("form.cancel")),1)])],32)])])}var f=a(65),h=a(5605),g={data(){return{formData:{}}},computed:{...(0,f.Se)(["user","userGoogleId","accessToken"])},methods:{checkFileSize(e){const t=e.target,a=t.files[0];if(a){const r=a.size/1024;r>600?(alert("Фотографія має бути менше 600KB"),t.value=""):this.encodeImageFileAsURL(e)}},encodeImageFileAsURL(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onloadend=()=>{this.formData.imgURL=a.result},a.readAsDataURL(t)}else console.error("No file selected.")},createPost(){this.formData.user_id=this.user.id,(0,h.jX)("advertisements",this.formData,this.accessToken).then((()=>{alert("Очікуйте на підтвердження посту комендантом"),this.$router.push("/me")}))}},mounted(){0==this.user.status&&(alert("Ваш акаунт неактивний, зачекайте на підтвердження комендантом"),this.$router.push("/me"))}},v=a(89);const _=(0,v.Z)(g,[["render",p],["__scopeId","data-v-06d167b2"]]);var b=_}}]);
//# sourceMappingURL=264.28570830.js.map