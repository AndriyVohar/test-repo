"use strict";(self["webpackChunkunitrade"]=self["webpackChunkunitrade"]||[]).push([[921],{1128:function(s,e,t){t.d(e,{Z:function(){return b}});var a=t(3396),o=t(7139),n=t(9242);const i={class:"work"},r=["src"],l={class:"post-data"},d={class:"text"},c={class:"post-name"},p={style:{"font-size":"10px"}},g={style:{"font-size":"14px"}},k={class:"post-bottom"},w={class:"tag"},u={key:0,class:"buttons"};function _(s,e,t,_,h,m){const v=(0,a.up)("font-awesome-icon"),f=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(f,{class:"router-link",to:{name:"work",params:{id:this.work.id}}},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("img",{src:t.work.imgURL,alt:"Фото поста"},null,8,r),(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("p",c,(0,o.zw)(t.work.title),1)]),(0,a._)("p",p,(0,o.zw)(t.work.created_at),1),(0,a._)("div",g,(0,o.zw)(t.work.salary)+"₴",1),(0,a._)("div",k,[(0,a._)("div",w,[(0,a._)("span",null,(0,o.zw)(t.work.tag),1)]),"admin"==s.user.role?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(v,{icon:["fas","pen"],onClick:e[0]||(e[0]=(0,n.iM)((s=>m.updateWork()),["prevent"]))}),(0,a.Wm)(v,{icon:["fas","trash"],onClick:e[1]||(e[1]=(0,n.iM)((s=>m.deleteWork()),["prevent"]))})])):(0,a.kq)("",!0)])])])])),_:1},8,["to"])}t(560);var h=t(65),m=t(5605),v={name:"WorkComponent",props:{work:Object},computed:{...(0,h.Se)(["user"])},methods:{updateWork(){this.$router.push({name:"workEdit",params:{id:this.work.id}})},deleteWork(){confirm("Видалити оголошення ?")&&(0,m.wz)("works",this.work.id).then((()=>{location.reload()})).catch((s=>{console.log(s)}))}}},f=t(89);const x=(0,f.Z)(v,[["render",_],["__scopeId","data-v-13bc5b06"]]);var b=x},2921:function(s,e,t){t.r(e),t.d(e,{default:function(){return u}});var a=t(3396),o=t(7139);const n={class:"container"},i={key:0,class:"works_list"},r={class:"page-selector"},l={key:1,class:"works_list"};function d(s,e,t,d,c,p){const g=(0,a.up)("work-component"),k=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("div",n,[c.worksList.length>0?((0,a.wg)(),(0,a.iD)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.worksList,(s=>((0,a.wg)(),(0,a.j4)(g,{work:s,key:s},null,8,["work"])))),128)),(0,a._)("div",r,[(0,a.Wm)(k,{icon:"arrow-left",class:(0,o.C_)([{"hidden-page":1==c.page_index},"page-toggle"]),onClick:e[0]||(e[0]=s=>p.subPage())},null,8,["class"]),(0,a._)("span",null,(0,o.zw)(c.page_index),1),(0,a.Wm)(k,{icon:"arrow-right",class:(0,o.C_)([{"hidden-page":c.page_index==c.lastPage},"page-toggle"]),onClick:e[1]||(e[1]=s=>p.addPage())},null,8,["class"])])])):((0,a.wg)(),(0,a.iD)("div",l,(0,o.zw)(s.$t("global.loading"))+"...",1))])}var c=t(1128),p=t(5605),g={name:"Works_list",components:{WorkComponent:c.Z},data(){return{worksList:[],page_index:1,lastPage:1}},watch:{page_index(s){this.loadList(s)}},mounted(){this.loadList(this.page_index)},methods:{subPage(){this.page_index>1&&(this.page_index-=1)},addPage(){this.page_index!=this.lastPage&&(this.page_index+=1)},loadList(s){(0,p.MZ)("works",s).then((s=>{this.worksList=s.data,this.lastPage=s.last_page})).catch((s=>{console.log(s),this.postsList=null}))}}},k=t(89);const w=(0,k.Z)(g,[["render",d],["__scopeId","data-v-18b3cd61"]]);var u=w}}]);
//# sourceMappingURL=921.cd7ea309.js.map