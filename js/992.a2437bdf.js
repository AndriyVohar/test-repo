"use strict";(self["webpackChunkunitrade"]=self["webpackChunkunitrade"]||[]).push([[992],{115:function(s,t,e){e.d(t,{Z:function(){return W}});var o=e(3396),a=e(7139),n=e(9242);const i={class:"work"},r=["src"],l={class:"post-data"},d={class:"text"},c={class:"post-name"},p={style:{"font-size":"10px"}},k={style:{"font-size":"14px"}},g={class:"post-bottom"},u={class:"tag"},w={key:0,class:"buttons"};function _(s,t,e,_,h,m){const v=(0,o.up)("font-awesome-icon"),f=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(f,{class:"router-link",to:{name:"work",params:{id:this.work.id}}},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o._)("img",{src:e.work.imgURL,alt:"Фото поста"},null,8,r),(0,o._)("div",l,[(0,o._)("div",d,[(0,o._)("p",c,(0,a.zw)(e.work.title),1)]),(0,o._)("p",p,(0,a.zw)(e.work.created_at),1),(0,o._)("div",k,(0,a.zw)(e.work.salary)+"₴",1),(0,o._)("div",g,[(0,o._)("div",u,[(0,o._)("span",null,(0,a.zw)(e.work.tag),1)]),"admin"==s.user.role?((0,o.wg)(),(0,o.iD)("div",w,[(0,o.Wm)(v,{class:"done-button",icon:["fas","pen"],onClick:t[0]||(t[0]=(0,n.iM)((s=>m.updateWork()),["prevent"]))}),(0,o.Wm)(v,{class:"done-button",icon:["fas","trash"],onClick:t[1]||(t[1]=(0,n.iM)((s=>m.deleteWork()),["prevent"]))})])):(0,o.kq)("",!0)])])])])),_:1},8,["to"])}e(560);var h=e(65),m=e(5605),v={name:"WorkComponent",props:{work:Object},computed:{...(0,h.Se)(["user"])},methods:{updateWork(){this.$router.push({name:"workEdit",params:{id:this.work.id}})},deleteWork(){confirm("Видалити оголошення ?")&&(0,m.wz)("works",this.work.id).then((()=>{this.$emit("reloadWorksList")})).catch((s=>{console.log(s)}))}}},f=e(89);const x=(0,f.Z)(v,[["render",_],["__scopeId","data-v-34de805c"]]);var W=x},1992:function(s,t,e){e.r(t),e.d(t,{default:function(){return w}});var o=e(3396),a=e(7139);const n={class:"container"},i={key:0,class:"works_list"},r={class:"page-selector"},l={key:1,class:"works_list"};function d(s,t,e,d,c,p){const k=(0,o.up)("work-component"),g=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",n,[c.worksList.length>0?((0,o.wg)(),(0,o.iD)("div",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.worksList,(s=>((0,o.wg)(),(0,o.j4)(k,{work:s,onReloadWorksList:t[0]||(t[0]=s=>p.loadList(this.page_index)),key:s},null,8,["work"])))),128)),(0,o._)("div",r,[(0,o.Wm)(g,{icon:"arrow-left",class:(0,a.C_)([{"hidden-page":1==c.page_index},"page-toggle"]),onClick:t[1]||(t[1]=s=>p.subPage())},null,8,["class"]),(0,o._)("span",null,(0,a.zw)(c.page_index),1),(0,o.Wm)(g,{icon:"arrow-right",class:(0,a.C_)([{"hidden-page":c.page_index==c.lastPage},"page-toggle"]),onClick:t[2]||(t[2]=s=>p.addPage())},null,8,["class"])])])):((0,o.wg)(),(0,o.iD)("div",l,(0,a.zw)(s.$t("global.loading"))+"...",1))])}var c=e(115),p=e(5605),k={name:"Works_list",components:{WorkComponent:c.Z},data(){return{worksList:[],page_index:1,lastPage:1}},watch:{page_index(s){this.loadList(s)}},mounted(){this.loadList(this.page_index)},methods:{subPage(){this.page_index>1&&(this.page_index-=1)},addPage(){this.page_index!=this.lastPage&&(this.page_index+=1)},loadList(s){(0,p.MZ)("works",s).then((s=>{this.worksList=s.data,this.lastPage=s.last_page})).catch((s=>{console.log(s),this.postsList=null}))}}},g=e(89);const u=(0,g.Z)(k,[["render",d],["__scopeId","data-v-f4846d02"]]);var w=u}}]);
//# sourceMappingURL=992.a2437bdf.js.map