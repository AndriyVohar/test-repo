{"version":3,"file":"js/417.8ba923bf.js","mappings":"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","sources":["webpack://unitrade/./src/components/Post/PostComponent.vue","webpack://unitrade/./src/components/Post/PostComponent.vue?a0c7","webpack://unitrade/./src/components/Post/PostsList.vue","webpack://unitrade/./src/components/Post/PostsList.vue?8b0f"],"sourcesContent":["<template>\r\n  <router-link\r\n    class=\"router-link\"\r\n    :to=\"{\r\n      name: 'post',\r\n      params: { id: this.post.id },\r\n    }\"\r\n  >\r\n    <div class=\"post\">\r\n      <img :src=\"post.imgURL\" alt=\"Фото поста\" />\r\n      <div class=\"post-data\">\r\n        <div class=\"text\">\r\n          <div class=\"post-name-icon\">\r\n            <span class=\"post-name\">{{ post.title }}</span>\r\n            <img :src=\"post.creator.imgURL\" alt=\"\" class=\"user-profile\" />\r\n          </div>\r\n          <p class=\"address\">\r\n            {{ $t(\"global.dormitory\") }} №{{ post.creator.dormitory }}\r\n            {{ post.creator.room }}\r\n          </p>\r\n          <p class=\"address\">\r\n            {{ post.created_at }}\r\n          </p>\r\n        </div>\r\n        <div class=\"post-bottom\">\r\n          <div class=\"tag\">\r\n            <span>{{ post.tag }}</span>\r\n          </div>\r\n          <div\r\n            class=\"buttons\"\r\n            v-if=\"(user.id == post.creator.id || user.role == 'admin')&&postApprove==false\"\r\n          >\r\n            <font-awesome-icon\r\n              :icon=\"['fas', 'pen']\"\r\n              @click.prevent=\"updatePost()\"\r\n            />\r\n            <font-awesome-icon\r\n              :icon=\"['fas', 'trash']\"\r\n              @click.prevent=\"deletePost()\"\r\n            />\r\n          </div>\r\n          <div class=\"buttons\" v-if=\"postApprove==true\" @click.prevent=\"approve()\">\r\n            <img src=\"@/assets/svg/done-icon.png\" alt=\"Done\" class=\"done-button\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </router-link>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { deleteItem, updateItem } from \"@/DbOperations\";\r\nexport default {\r\n  name: \"Post_comp\",\r\n  props: {\r\n    post: Object,\r\n    postApprove: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"user\"]),\r\n  },\r\n  methods: {\r\n    updatePost() {\r\n      this.$router.push({\r\n        name: \"postEdit\",\r\n        params: { id: this.post.id },\r\n      });\r\n    },\r\n    deletePost() {\r\n      if (confirm(\"Видалити оголошення ?\")) {\r\n        deleteItem(\"advertisements\", this.post.id)\r\n          .then(() => {\r\n            this.$emit('reloadPostsList');\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    },\r\n    approve(){\r\n      let postUpdate ={\r\n        id:this.post.id,\r\n        user_id: this.user.id,\r\n        status: 1  \r\n      };\r\n      console.log(postUpdate)\r\n      updateItem('advertisements',this.post.id, postUpdate,this.user.google_id)\r\n        .then(()=>{\r\n          this.$emit('reloadApproveList')\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"../../assets/main_colors\";\r\n\r\n.post {\r\n  width: calc(100% - 20px);\r\n  border-radius: 10px;\r\n  height: 80px;\r\n  background-color: #ffffff;\r\n  display: flex;\r\n  gap: 15px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  flex-direction: row;\r\n  transition: all ease-out 0.3s;\r\n  padding: 10px;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  img {\r\n    max-height: 80px;\r\n    min-height: 75%;\r\n    object-fit: contain;\r\n    height: 80px;\r\n    width: 135px;\r\n    max-width: 135px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .post-data {\r\n    display: flex;\r\n    min-width: 160px;\r\n    flex-direction: column;\r\n    align-items: start;\r\n    flex: 1;\r\n    height: 100px;\r\n    justify-content: space-evenly;\r\n\r\n    .text {\r\n      width: 100%;\r\n\r\n      .post-name-icon {\r\n        text-align: start;\r\n        display: flex;\r\n        flex-direction: row;\r\n        gap: 15px;\r\n        width: 100%;\r\n        flex: 1;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n\r\n        .post-name {\r\n          white-space: nowrap;\r\n          text-align: left;\r\n          overflow-x: hidden;\r\n          width: calc(100% - 20px);\r\n          max-width: calc(100% - 20px - 15px);\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          display: flex;\r\n          align-items: center;\r\n        }\r\n\r\n        img {\r\n          height: 20px;\r\n          width: 20px;\r\n          border-radius: 100%;\r\n        }\r\n      }\r\n\r\n      .address {\r\n        font-size: 10px;\r\n        text-align: left;\r\n      }\r\n    }\r\n\r\n    .post-bottom {\r\n      display: flex;\r\n      gap: 25px;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      flex-direction: row;\r\n\r\n      .buttons {\r\n        display: flex;\r\n        gap: 15px;\r\n        .done-button {\r\n          height: 20px;\r\n          width: 25px;\r\n          cursor: pointer;\r\n          margin-left: auto;\r\n          margin-right: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .tag {\r\n    width: 80px;\r\n    display: flex;\r\n    height: 15px;\r\n    background-color: #72ddf7;\r\n    border-radius: 50px;\r\n    line-height: 15px;\r\n    text-align: center;\r\n\r\n    span {\r\n      width: 100%;\r\n      font-weight: 400;\r\n      font-size: 10px;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./PostComponent.vue?vue&type=template&id=91310968&scoped=true\"\nimport script from \"./PostComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PostComponent.vue?vue&type=script&lang=js\"\n\nimport \"./PostComponent.vue?vue&type=style&index=0&id=91310968&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-91310968\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"container\">\r\n    <div class=\"posts_list\" v-if=\"postsList && postsList.length > 0\">\r\n      <post-component :post=\"post\" @reloadPostsList=\"loadPostsList\" v-for=\"post in postsList\" :key=\"post.id\" />\r\n      <div class=\"page-selector\">\r\n        <font-awesome-icon\r\n          icon=\"arrow-left\"\r\n          :class=\"{ 'hidden-page': page_index == 1 }\"\r\n          @click=\"subPage()\"\r\n          class=\"page-toggle\"\r\n        />\r\n        <span>{{ page_index }}</span>\r\n        <font-awesome-icon\r\n          icon=\"arrow-right\"\r\n          :class=\"{ 'hidden-page': page_index == lastPage }\"\r\n          @click=\"addPage()\"\r\n          class=\"page-toggle\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"posts_list\" v-else>{{ $t(\"global.loading\") }}...</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PostComponent from \"@/components/Post/PostComponent.vue\";\r\nimport { loadItemsListByDormitory } from \"@/DbOperations\";\r\nexport default {\r\n  name: \"Posts_list\",\r\n  components: { PostComponent },\r\n  methods: {\r\n    subPage() {\r\n      if (this.page_index > 1) {\r\n        this.page_index -= 1;\r\n      }\r\n    },\r\n    addPage() {\r\n      if (this.page_index != this.lastPage) {\r\n        this.page_index += 1;\r\n      }\r\n    },\r\n    loadPostsList() {\r\n      loadItemsListByDormitory(\"advertisements\", this.dormitoryNumber, this.page_index)\r\n        .then((response) => {\r\n          this.postsList = response.data;\r\n          this.lastPage = response.last_page;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          this.postsList = null;\r\n        });\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      page_index: 1,\r\n      search: undefined,\r\n      postsList: null, //[]\r\n      lastPage: 1,\r\n    };\r\n  },\r\n  computed: {\r\n    dormitoryNumber() {\r\n      return this.$store.state.dormitoryNumber;\r\n    },\r\n  },\r\n  watch: {\r\n    page_index() {\r\n      this.loadPostsList();\r\n    },\r\n    dormitoryNumber() {\r\n      // this.$store.commit('changeDormitoryNumber',newValue);\r\n      this.page_index = 1;\r\n      this.loadPostsList();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadPostsList();\r\n  },\r\n  created() {},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/main_colors\";\r\n\r\n.hidden-page {\r\n  opacity: 0 !important;\r\n  transition: opacity ease-out 0.2s;\r\n  cursor: default !important;\r\n}\r\n\r\n.page-toggle {\r\n  transition: opacity ease-out 0.2s;\r\n}\r\n\r\n.page-toggle:hover {\r\n  cursor: pointer;\r\n}\r\n\r\n.container {\r\n  background-color: #d3dfe3;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100vw;\r\n  justify-content: space-between;\r\n  margin-bottom:43px;\r\n\r\n  .posts_list {\r\n    gap: 15px;\r\n    min-height: calc(\r\n      100vh - 170px\r\n    );\r\n    margin-top: 15px;\r\n    width: calc(100vw - 30px);\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .page-selector {\r\n    padding-bottom: 10px;\r\n    width: 100%;\r\n    display: flex;\r\n    border-top: 1px solid $border-default;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    font-size: 14px;\r\n    justify-content: center;\r\n    height: 40px;\r\n    gap: 10px;\r\n    font-weight: 500;\r\n  }\r\n}\r\n@media (min-width: 1000px) {\r\n  .container{\r\n\r\n  }\r\n}\r\n</style>","import { render } from \"./PostsList.vue?vue&type=template&id=5982b06e&scoped=true\"\nimport script from \"./PostsList.vue?vue&type=script&lang=js\"\nexport * from \"./PostsList.vue?vue&type=script&lang=js\"\n\nimport \"./PostsList.vue?vue&type=style&index=0&id=5982b06e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5982b06e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_hoisted_13","_createBlock","_component_router_link","to","post","id","_hoisted_1","$props","imgURL","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","title","creator","_hoisted_8","_ctx","$t","dormitory","room","_hoisted_9","created_at","_hoisted_10","_hoisted_11","tag","user","role","postApprove","_createElementBlock","_hoisted_12","_createVNode","_component_font_awesome_icon","icon","onClick","_cache","_withModifiers","$event","$options","updatePost","deletePost","approve","name","props","Object","type","Boolean","default","computed","mapGetters","methods","this","$router","push","params","confirm","deleteItem","then","$emit","catch","error","console","log","postUpdate","user_id","status","updateItem","google_id","__exports__","render","$data","postsList","length","_hoisted_2","_Fragment","_renderList","_component_post_component","onReloadPostsList","loadPostsList","key","_normalizeClass","page_index","subPage","lastPage","addPage","components","PostComponent","loadItemsListByDormitory","dormitoryNumber","response","data","last_page","search","undefined","$store","state","watch","mounted","created"],"sourceRoot":""}